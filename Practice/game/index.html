<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>game</title>
</head>
<style>
    #container{
        display: flex;
        padding: 15%;
        gap : 15%
    }
</style>
<body>
    <div id="container" >
        <div id="inner1" ></div>
        <div id="inner2" ></div>
    </div>
</body>
</html>

<script src="socket.io/socket.io.js"></script>
<script>
    const ws = io()

    const container = document.querySelector("#container")
    const inner1 = document.querySelector("#inner1")
    const inner2 = document.querySelector("#inner2")
    let name;
    do{
        name = prompt("enter your name")
    }while(!name)

    //player1
    let player1 = document.createElement("h2")
    player1.innerHTML = "Player 1"

    let playerName1 = document.createElement("h2")
    playerName1.innerHTML = name

    let power1 = document.createElement("h2")
    power1.innerHTML = 100

    let btn1 = document.createElement("button")
    btn1.addEventListener("click",()=>{
        let random = (Math.floor(Math.random()*6))
        console.log(random)
        ws.emit("change score", random)
    })

    btn1.innerHTML = "Attack"
    
    inner1.append(player1,playerName1,power1,btn1)

    ws.on("change score", (random)=>{
        let temp = Number(get2.innerHTML)
        let ns = temp -random
        if(ns<=0){
            window.alert("Player 1 won")
            get2.innerHTML = 100
        }
        else{
            get2.innerHTML =temp-random
        }

        
    })




    let hr = document.createElement("hr")

    //player2
    let player2 = document.createElement("h2")
    player2.innerHTML = "Player 2"

    let playerName2 = document.createElement("h2")
    playerName2.innerHTML = "CPU"

    let power2 = document.createElement("h2")
    power2.setAttribute("id",("get2"))
    power2.innerHTML = 100

    let btn2 = document.createElement("button")
    btn2.innerHTML = "Attack"
    
    inner2.append(player2,playerName2,power2,btn2)




// Append
    container.append(inner1,hr,inner2)
</script>
































































<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
</head>
<style>
    #container{
        display: flex;
        padding: 15%;
        justify-content: center;
        
    }
</style>
<body>
    <div id="container">
        <div id="player1_div">
            <h1>Player 1</h1>
        </div>
        <hr>
        <div id="player2_div">
            <h1>Player 2</h1>
        </div>
    </div>
</body>
</html>
<script src="socket.io/socket.io.js"></script>
<script>
    const socket = io();
    let name;
    do{
        name = prompt("enter your name")
    }while(!name)

    // player1
    let player1_div = document.querySelector("#player1_div")
    let playername = document.createElement("h1")
    playername.innerText =name
    
    let Player1_power = document.createElement("h2")
    Player1_power.innerHTML = 100

    let Attackbutton = document.createElement("button")
    Attackbutton.innerText = "Attack"
    Attackbutton.addEventListener("click",()=>{
       
        let random = (Math.floor(Math.random()*6));
        
        socket.emit("score changed", random)
        
    })
    
    player1_div.append(playername,Player1_power,Attackbutton)

    
    socket.on("score changed", (random) => {
        let temp = get2.innerHTML
        let ns = temp -random
        if(ns<=0){
            window.alert("Player 1 Won")
            get2.innerHTML = 100
        }else{
            get2.innerHTML=temp-random
        }
        })
   
    //player2
    let player2_div = document.querySelector("#player2_div")
    let playername2 = document.createElement("h1")
    playername2.innerText ="CPU"
    

    let Player2_power = document.createElement("h2")
    Player2_power.setAttribute("id",("get2"))
    Player2_power.innerHTML = 100

    let Attackbutton2 = document.createElement("button")
    Attackbutton2.innerText = "Attack"

    player2_div.append(playername2,Player2_power,Attackbutton2)

        setInterval(() => {
            let p1 = Player1_power.innerText
           let p2 = Player2_power.innerText
           
           Player1_power.innerText=p1-1
           Player2_power.innerText=p2-1
        }, 2000);

</script> -->